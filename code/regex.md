# 正则表达式

## 符号

* `$` 字符串的结尾位置
* `^` 字符串的开始位置，中括号内代表相反的条件
* `()` 分组，子表达式
* `\` 将下一个字符标记为特殊字符或原义字符或向后引用或八进制转义符
* `.` 匹配除换行符 `\n` 之外的任何单字符。要匹配 `.` ，请使用 `\.`
* `|` 或者
* `[]` 中括号表达式
* `{}` 量词
* `+` 等效 `{1,}`
* `*` 等效 `{0,}`
* `?` 等效 `{0,1}`
* `\cx` 匹配由 x 指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符
* `\b` 匹配一个单词边界，也就是指单词和空格间的位置。例如， 'er\b' 可以匹配"never" 中的 'er'，但不能匹配 "verb" 中的 'er'
* `\B` 匹配非单词边界
* `\d` 匹配一个数字字符。等价于 [0-9]
* `\D` 匹配一个非数字字符。等价于 [^0-9]
* `\f` 匹配一个换页符。等价于 \x0c 和 \cL
* `\n` 匹配一个换行符。等价于 \x0a 和 \cJ
* `\r` 匹配一个回车符。等价于 \x0d 和 \cM
* `\s` 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]
* `\S` 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]
* `\t` 匹配一个制表符。等价于 \x09 和 \cI
* `\v` 匹配一个垂直制表符。等价于 \x0b 和 \cK
* `\w` 匹配包括下划线的任何单词字符。等价于'[A-Za-z0-9_]'
* `\W` 匹配任何非单词字符。等价于 '[^A-Za-z0-9_]'
* `\xn` 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长
* `\num` 匹配 num，其中 num 是一个正整数。对所获取的匹配的引用。例如，'(.)\1' 匹配两个连续的相同字符
* `\n` 标识一个八进制转义值或一个向后引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为向后引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值
* `\nm` 标识一个八进制转义值或一个向后引用。如果 \nm 之前至少有 nm 个获得子表达式，则 nm 为向后引用。如果 \nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的向后引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm
* `\nml` 如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml
* `\un` 匹配 n，其中 n 是一个用四个十六进制数字表示的 Unicode 字符。例如， \u00A9 匹配版权符号 (?)

## 量词

* `{n}` 匹配字符串长度为n
* `{m,n}` 匹配字符串长度最小为m，最大为n
* `{m,}` 匹配字符串长度最小为m，最大为无穷
* `{0,n}` 匹配字符串长度最小为空，最大为n
* `+` 等效 `{1,}`
* `*` 等效 `{0,}`
* `?` 等效 `{0,1}`

## 贪婪与懒惰

* 贪婪模式: 表达式默认匹配模式是贪婪
* 懒惰模式: 量词后面增加`?`是懒惰模式

```javascript
'系统提示【姓名】您的订单：【订单号】已发货'.match(/【.+】/)
// 贪婪模式匹配结果: 【姓名】您的订单：【订单号】
'系统提示【姓名】您的订单：【订单号】已发货'.match(/【.+?】/)
// 懒惰模式匹配结果: 【姓名】
```

## 常用表达式

* `[\u4e00-\u9fa5]` 中文
* `^\s*|\s*$` 首尾空白字符
* `\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*` 邮箱地址
* `[a-zA-z]+://[^\s]*` 网址
* `[1-9][0-9]{4,}` QQ
* `25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|[1-9]` 数字1-255
* `^(25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|[1-9])(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|[1-9])){3}$` IP地址

## 语言

* shell: `egrep`
