# 一种AB测试

## 困难

* 单一服务器；
* 快速、准确的获取测试结果；
* 较短的测试周期；
* 测试结束恢复现场；

## 解决方案

1. 定义测试；
    * 测试代码
    * 测试开始时间
    * 测试结束时间
    * 目标地址
    * 方案(数组)
      * 方案代码(A、B...N)
      * 内容(文本、式样、逻辑等)
1. 用户登录，判断是否在测试时间范围；
1. 根据当前时间和测试方案取余，选择测试方案；
1. 使用方案显示界面；
1. 当向目标地址发送请求时追加跟踪标记；
    * key=`ab-track`
    * value=`测试代码`-`方案代码`
1. 分析日志搜索`ab-track=测试代码`，生成结果；
